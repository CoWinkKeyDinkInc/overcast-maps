<?xml version="1.0"?>
<map proto="1.3.0">
<name>Medieval Clayfare</name>
<version>1.6.9</version>
<objective>Leak lava from the enemy's obsidian core.</objective>
<phase>development</phase>
<include src="newstalgia.xml"/>
<authors>
    <author uuid="c1ea235d-4224-46e4-ba4a-638838f6d039"/> <!-- Daffy_Duck01 -->
</authors>
<teams>
    <team color="blue" max="24">Blue</team>
    <team color="dark red" max="24">Red</team>
</teams>
<regions>
    <union name="spawn">
        <cuboid name="blue-spawn-protect" min="57,93,74" max="63,oo,80"/>
        <cuboid name="red-spawn-protect" min="-84,93,74" max="-78,oo,80"/>
    </union>
    <complement name="blue-base-nodrop">
        <cuboid name="blue-base" min="49,83,66" max="72,103,88"/>
        <region name="blue-spawn-protect"/>
    </complement>
    <complement name="red-base-nodrop">
        <cuboid name="red-base" min="-70,83,88" max="-93,103,66"/>
        <region name="red-spawn-protect"/>
    </complement>
    <union name="blue-supplies">
        <cuboid name="blue-diamond" min="18,82,107" max="30,92,80"/>
        <cuboid name="blue-iron" min="18,82,47" max="30,92,74"/>
    </union>
    <union name="red-supplies">
        <cuboid name="red-diamond" min="-39,82,107" max="-51,92,80"/>
        <cuboid name="red-iron" min="-39,82,47" max="-51,92,74"/>
    </union>
    <!-- Applied -->
    <apply block="deny-all">
        <region name="spawn"/>
    </apply>
    <apply block-place="anti-tnt-blue" message="Sorry, you may not place TNT inside your own castle">
        <region name="blue-base-nodrop"/>
        <region name="blue-supplies"/>
    </apply>
    <apply block-place="anti-tnt-red" message="Sorry, you may not place TNT inside your own castle">
        <region name="red-base-nodrop"/>
        <region name="red-supplies"/>
    </apply>
    <apply block="deny-all" message="Don't build outside the map boundry!">
        <negative>
            <cuboid min="-155,-oo,3" max="134,127,172"/>
        </negative>
    </apply>
</regions>
<filters>
    <filter name="anti-tnt-red">
        <not>
            <all>
                <block>tnt</block>
                <team>red</team>
            </all>
        </not>
    </filter>
    <filter name="anti-tnt-blue">
        <not>
            <all>
                <block>tnt</block>
                <team>blue</team>
            </all>
        </not>
    </filter>
</filters>
<kits>
    <kit name="shears">
        <item slot="8" name="`6TNT Defuser" lore="`7Right click to defuse teammate's TNT|`7Does not work in `9water`7!">shears</item>
    </kit>
    <kit name="nv">
        <potion duration="oo">night vision</potion>
    </kit>
    <kit name="tnt-inventory" parents="nv">
        <item slot="0" unbreakable="true" attributes="generic.attackDamage:add:7">diamond pickaxe</item>
        <item slot="27" unbreakable="true" name="`6TNT Defuser" lore="`7Right click to defuse team griefer's TNT|`7Does not work in `9water`7.|`7Use `a/report `7to alert the staff!">shears</item>
        <item slot="9" amount="64">tnt</item>
        <item slot="1" unbreakable="true" enchantment="arrow infinite:1">bow</item>
        <item slot="28">arrow</item>
        <item slot="10" amount="64">tnt</item>
        <item slot="2" amount="64">vine</item>
        <item slot="29" unbreakable="true" attributes="generic.attackDamage:add:1" name="`aiCarus Blade" lore="`7Right click to reduce TNT damage">wood sword</item>
        <item slot="11" amount="64">tnt</item>
        <item slot="4" amount="64">nether fence</item>
        <item slot="31" amount="64">step</item>
        <item slot="22" amount="16">ladder</item>
        <item slot="5" amount="16">stone button</item>
        <item slot="32" amount="8">stone plate</item>
        <item slot="23" amount="16">lever</item>
        <item slot="14" amount="16">trap door</item>
        <item slot="6">water bucket</item>
        <item slot="33">water bucket</item>
        <item slot="24">water bucket</item>
        <item slot="15" amount="16">piston base</item>
        <item slot="7" amount="16">redstone block</item>
        <item slot="34" amount="64">redstone</item>
        <item slot="25" amount="16">redstone torch on</item>
        <item slot="16" amount="16">diode</item>
        <item slot="8" amount="64">tnt</item>
        <item slot="35" amount="8">sand</item>
        <item slot="26" amount="3">dispenser</item>
        <item slot="17" amount="8">redstone comparator</item>
    </kit>
</kits>
<itemremove>
    <item>shears</item>
    <item>diamond pickaxe</item>
    <item>bow</item>
    <item>workbench</item>
    <item>shears</item>
    <item>wood sword</item>
    <item>arrow</item>
    <item>vine</item>
    <item>nether fence</item>
    <item>step</item>
    <item>ladder</item>
    <item>trap door</item>
    <item>stone plate</item>
    <item>piston base</item>
    <item>redstone block</item>
    <item>redstone</item>
    <item>stone button</item>
    <item>lever</item>
    <item>redstone torch on</item>
    <item>diode</item>
    <item>water bucket</item>
    <item>bucket</item>
    <item>tnt</item>
    <item>leather helmet</item>
    <item>diamond chestplate</item>
    <item>leather leggings</item>
    <item>leather boots</item>
    <item>bucket</item>
    <item>iron ingot</item>
    <item>hopper</item>
    <item>redstone comparator</item>
    <item>sand</item>
    <item>chainmail chestplate</item>
    <item>dispenser</item>
</itemremove>
<!-- disable friendly TNT damage -->
<disabledamage>
    <damage self="false" ally="true" enemy="false" other="false">block explosion</damage>
</disabledamage>

<!-- explosion debris -->
<blockdrops>
    <rule>
        <filter>
            <any>
                <block>stained clay</block>
                <block>stained glass</block>
                <block>quartz block</block>
            </any>
        </filter>
        <fall-chance>0.35</fall-chance>
        <land-chance>0.5</land-chance>
        <fall-speed>0.75</fall-speed>
    </rule>
</blockdrops>
<spawns>
    <spawn team="blue" kit="tnt-inventory" yaw="90">
        <cuboid min="66.5,157,75.5" max="69.5,157,78.5"/>
    </spawn>
    <spawn team="red" kit="tnt-inventory" yaw="270">
        <cuboid min="-90.5,157,75.5" max="-87.5,157,78.5"/>
    </spawn>
    <default yaw="180" kit="nv">
        <cylinder base="-11.5,90,-32.5" radius="3" height="0"/>
    </default>
</spawns>
<cores material="obsidian" leak="3">
    <core team="blue">
        <cuboid min="30,97,75" max="34,101,79"/>
    </core>
    <core team="red">
        <cuboid min="-55,97,75" max="-51,101,79"/>
    </core>
</cores>
</map>
